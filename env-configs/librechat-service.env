# LIBRECHAT SERVICE-SPECIFIC VARIABLES
# Set these at: Northflank → gerry-adams-revolt → LibreChat Service → Environment
# These are ONLY for the LibreChat service

# ===========================================
# Service Configuration
# ===========================================
NODE_ENV=production
PORT=3080
HOST=0.0.0.0

# ===========================================
# LibreChat Domains (Service-Specific)
# ===========================================
DOMAIN_CLIENT=https://web--librechat--5d689c8h7r47.code.run
DOMAIN_SERVER=https://web--librechat--5d689c8h7r47.code.run

# ===========================================
# Service URLs (Internal Northflank)
# ===========================================
MS_AGENT_TEAM_URL=http://ms-agent-team:8080
MCP_HUB_URL=http://mcp-hub:8080

# ===========================================
# App Configuration
# ===========================================
APP_TITLE=LibreChat
HELP_AND_FAQ_URL=https://librechat.ai

# ===========================================
# Redis Configuration
# ===========================================
USE_REDIS=true

# ===========================================
# Search Configuration
# ===========================================
SEARCH=true

# ===========================================
# Debug/Logging
# ===========================================
DEBUG_LOGGING=true
DEBUG_CONSOLE=false
DEBUG_PLUGINS=true
DEBUG_OPENAI=false

# ===========================================
# Rate Limiting & Security
# ===========================================
NO_INDEX=true
TRUST_PROXY=1

BAN_VIOLATIONS=true
BAN_DURATION=7200000
BAN_INTERVAL=20

LOGIN_VIOLATION_SCORE=1
REGISTRATION_VIOLATION_SCORE=1
CONCURRENT_VIOLATION_SCORE=1
MESSAGE_VIOLATION_SCORE=1
NON_BROWSER_VIOLATION_SCORE=20
TTS_VIOLATION_SCORE=0
STT_VIOLATION_SCORE=0
FORK_VIOLATION_SCORE=0
IMPORT_VIOLATION_SCORE=0
FILE_UPLOAD_VIOLATION_SCORE=0

LOGIN_MAX=7
LOGIN_WINDOW=5
REGISTER_MAX=5
REGISTER_WINDOW=60

LIMIT_CONCURRENT_MESSAGES=true
CONCURRENT_MESSAGE_MAX=2

LIMIT_MESSAGE_IP=true
MESSAGE_IP_MAX=40
MESSAGE_IP_WINDOW=1

LIMIT_MESSAGE_USER=false
MESSAGE_USER_MAX=40
MESSAGE_USER_WINDOW=1

ILLEGAL_MODEL_REQ_SCORE=5

# ===========================================
# Authentication
# ===========================================
ALLOW_EMAIL_LOGIN=true
ALLOW_REGISTRATION=true
ALLOW_SOCIAL_LOGIN=false
ALLOW_SOCIAL_REGISTRATION=false
ALLOW_PASSWORD_RESET=false
ALLOW_UNVERIFIED_EMAIL_LOGIN=true

SESSION_EXPIRY=900000
REFRESH_TOKEN_EXPIRY=604800000

# ===========================================
# Shared Links
# ===========================================
ALLOW_SHARED_LINKS=true
ALLOW_SHARED_LINKS_PUBLIC=true

# ===========================================
# Moderation
# ===========================================
OPENAI_MODERATION=false

# ===========================================
# TTS/STT
# ===========================================
TTS_API_KEY=your-tts-api-key-here
STT_API_KEY=
